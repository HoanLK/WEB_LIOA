myApp.controller("themQCController",["$scope","$http","$window","$location","$filter","Url",function(n,t,i,r,u,f){n.QC={};n.chooseImage=function(){var t=new CKFinder;t.selectActionFunction=function(t){n.QC.image=t;n.$apply()};t.SelectFunction="ShowFileInfo";t.popup()};n.currentIdQC=f.getParameterByName("id");n.currentIdQC&&t.get("/API/QCAPI/"+n.currentIdQC).success(function(t){n.QC={id:t.id,title:t.title,image:t.image,link:t.link}});n.saveQC=function(){n.currentIdQC?t.put("/API/QCAPI/"+n.QC.id,n.QC).success(function(){toastr.success("Thành công","Lưu quảng cáo")}).error(function(){toastr.error("Thất bại","Thêm quảng cáo")}):t.post("/API/QCAPI/",n.QC).success(function(){toastr.success("Thành công","Thêm quảng cáo");i.location.href="/Admin/QCs"}).error(function(){toastr.error("Thất bại","Thêm quảng cáo")})};n.saveQCAndExit=function(){n.currentIdQC?t.put("/API/QCAPI/"+n.QC.id,n.QC).success(function(){i.location.href="/Admin/QCs"}).error(function(){toastr.error("Thất bại","Lưu quảng cáo")}):t.post("/API/QCAPI/",n.QC).success(function(){i.location.href="/Admin/QCs"}).error(function(){toastr.error("Thất bại","Thêm quảng cáo")})};n.saveQCAndNew=function(){n.currentIdQC?t.put("/API/QCAPI/"+n.QC.id,n.QC).success(function(){i.location.href="/Admin/QCs/Create"}).error(function(){toastr.error("Thất bại","Lưu quảng cáo")}):t.post("/API/QCsAPI/",n.QC).success(function(){i.location.href="/Admin/QCs/Create"}).error(function(){toastr.error("Thất bại","Thêm quảng cáo")})};n.cancel=function(){i.location.href="/Admin/QCs"}}]);